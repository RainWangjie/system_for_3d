define([],function(){function e(){c.render(scene,r)}function o(){window.requestAnimationFrame(o),e()}console.log("vr页面"),window.onorientationchange=function(){switch(console.log(window.orientation),window.orientation){case 90:$(".orientation").hide();break;case-90:case 0:case 180:$(".orientation").show()}};window.outerHeight,window.outerWidth,new THREE.Scene;THREE.Loader.Handlers.add(/\.dds$/i,new THREE.DDSLoader);var n=new THREE.MTLLoader;n.setBaseUrl("http://7xs7nv.com1.z0.glb.clouddn.com/"),n.setPath("http://7xs7nv.com1.z0.glb.clouddn.com/"),n.crossOrigin="*",n.load(mtlUrl,function(e){e.preload();var o=new THREE.OBJLoader;o.setMaterials(e),o.setPath("http://7xs7nv.com1.z0.glb.clouddn.com/"),o.load(objUrl,function(e){model=e,model.scale.set(model_option[0],model_option[0],model_option[0]),model.rotation.x=model_option[1]/180*Math.PI,model.rotation.y=model_option[2]/180*Math.PI,model.rotation.z=model_option[3]/180*Math.PI,scene.add(model),$(".canvas-model-preview .preview-img").remove(),$(".canvas-model-preview .progress").remove(),$(".canvas-model-preview").append(c.domElement)},w,m)});var t=new THREE.PointLight(16777215);t.position.set(-100,200,-100),scene.add(t);var i=new THREE.DirectionalLight(16772829);i.position.set(0,0,1).normalize(),scene.add(i);var a=new THREE.SpotLight(16777215);a.position.set(-353,-353,500),a.castShadow=!0,scene.add(a);var d=new THREE.SpotLight(16777215);d.position.set(-130,483,300),d.castShadow=!0,scene.add(d);var s=new THREE.SpotLight(16777215);s.position.set(483,-130,300),s.castShadow=!0,scene.add(s),scene.add(new THREE.AmbientLight(1052720));var r=new THREE.PerspectiveCamera(45,scene_width/scene_height,.1,1e3);r.position.set(200,200,200),r.lookAt(scene.position);var c=new THREE.WebGLRenderer({antialiasing:!0});c.setSize(scene_width,scene_height);var l=new THREE.OrbitControls(r,document.querySelector(".canvas-model-preview"));l.addEventListener("change",e),o();var w=function(e){if(e.lengthComputable){var o=e.loaded/e.total*100;$(".progress-bar").css("width",Math.round(o,2)+"%"),console.log(Math.round(o,2)+"% downloaded")}},m=function(e){}});